<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//PT-BR"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="br.com.usjt.web.service.ComandaMapper">
	<insert id="createComanda">
		INSERT
			INTO comanda
			  (
			    id_garcom,
			    codigo_comanda,
			    mesa,
			    status,
			    dta_entrada
			  ) VALUES(
			    #{comanda.restaurante.id},
			    #{comanda.codigo},
			    #{comanda.mesa},
			    #{comanda.status},
			    sysdate()
			  )
	</insert>
	
	<select id="getComandas" resultType="br.com.usjt.web.model.Comanda">
		SELECT
			id_garcom,
			codigo_comanda,
			mesa,
			status,
			dta_entrada,
			dta_saida
		FROM comanda
	</select>
	
	<select id="getComandasByStatus" resultType="br.com.usjt.web.model.Comanda">
		SELECT
			id_garcom,
			codigo_comanda,
			mesa,
			status,
			dta_entrada,
			dta_saida
		FROM comanda
		WHERE status = #{usuario.status}
	</select>
	
	<select id="getComandaByCodigo" resultType="br.com.usjt.web.model.Comanda">
		SELECT
			id_garcom,
			codigo_comanda,
			mesa,
			status,
			dta_entrada,
			dta_saida
		FROM comanda
		WHERE codigo_comanda = #{codigo}
	</select>
	
</mapper>